specVersion: v0.1.0
package:
  name: exactly
  version: v0.1.0
protobuf:
  files:
    - exa.proto
  importPaths:
    - proto
imports:
  db: https://github.com/streamingfast/substreams-sink-database-changes/releases/download/v3.0.0/substreams-sink-database-changes-v3.0.0.spkg
  sql: https://github.com/streamingfast/substreams-sink-sql/releases/download/protodefs-v1.0.7/substreams-sink-sql-protodefs-v1.0.7.spkg
network: anvil
modules:
  - name: map_exa_accounts
    kind: map
    inputs:
      - params: string
      - source: sf.ethereum.type.v2.Block
    output:
      type: proto:exa.Accounts
  - name: store_exa_accounts
    kind: store
    valueType: int64
    updatePolicy: set
    inputs:
      - map: map_exa_accounts
binaries:
  default:
    type: wasm/rust-v1
    file: target/wasm32-unknown-unknown/release/substreams.wasm
networks:
  optimism:
    initialBlock:
      map_exa_accounts: 124_728_176
    params:
      map_exa_accounts: "
        factories[]=8D493AF799162Ac3f273e8918B2842447f702163\
        &factories[]=3427a595eD6E05Cc2D8115e28BAd151cB879616e\
        &factories[]=cbeaAF42Cc39c17e84cBeFe85160995B515A9668\
        &factories[]=961EbA47650e2198A959Ef5f337E542df5E4F61b"
  base:
    initialBlock:
      map_exa_accounts: 38_172_919
    params:
      map_exa_accounts: factories[]=Ad92a288CE0cc869129cDA518Af2baaf69fFa026
  op-sepolia:
    initialBlock:
      map_exa_accounts: 26_170_889
    params:
      map_exa_accounts: factories[]=98d3E8B291d9E89C25D8371b7e8fFa8BC32E0aEC
  base-sepolia:
    initialBlock:
      map_exa_accounts: 29_999_489
    params:
      map_exa_accounts: factories[]=343EfD4E2073afc4CBe304b5dD50F8d6480e2dD2
  anvil:
    initialBlock:
      map_exa_accounts: 0
    params:
      map_exa_accounts: factories[]=Eb2454D494082f2294Fc5d4Cd67096f13E64306f
